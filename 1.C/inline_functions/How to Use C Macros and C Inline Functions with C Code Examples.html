<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>How to Use C Macros and C Inline Functions with C Code Examples</title>
<meta name="robots" content="noodp, noydir">
<link rel="stylesheet" href="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/layout.css" type="text/css" media="screen, projection">
<!--[if lte IE 8]><link rel="stylesheet" href="http://static.thegeekstuff.com/wp-content/themes/thesis_185/lib/css/ie.css" type="text/css" media="screen, projection" /><![endif]-->
<link rel="stylesheet" href="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/custom.css" type="text/css" media="screen, projection">
<link rel="canonical" href="http://www.thegeekstuff.com/2013/04/c-macros-inline-functions/">
<link rel="alternate" type="application/rss+xml" title="The Geek Stuff RSS Feed" href="http://feedproxy.google.com/TheGeekStuff">
<link rel="pingback" href="http://www.thegeekstuff.com/xmlrpc.php">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.thegeekstuff.com/xmlrpc.php?rsd">
<link href="http://static.thegeekstuff.com/favicon.ico" rel="icon" type="image/x-icon">
<link rel="author" href="https://plus.google.com/112493711428194838421/posts">
<link rel="alternate" type="application/rss+xml" title="The Geek Stuff » How to Use C Macros and C Inline Functions with C Code Examples Comments Feed" href="http://www.thegeekstuff.com/2013/04/c-macros-inline-functions/feed/">

<!-- All in One SEO Pack 2.1 by Michael Torbert of Semper Fi Web Design[277,347] -->
<meta name="description" content="Many C and C++ programming beginners tend to confuse between the concept of macros and Inline functions. Often the difference between the two is also asked">

<link rel="canonical" href="http://www.thegeekstuff.com/2013/04/c-macros-inline-functions/">
<!-- /all in one seo pack -->
<script src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/ga.js" async="" type="text/javascript"></script><script async="" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/cbgapi.loaded_1"></script><script async="" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/cbgapi.loaded_0"></script><script src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/a_002" type="text/javascript"></script><link rel="stylesheet" href="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/inputtools.css" type="text/css"><script src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/inputtools.js" type="text/javascript"></script></head>
<body data-twttr-rendered="true" class="custom">
<div id="container">
<div id="page">
	<div id="header">
<p id="logo"><a href="http://www.thegeekstuff.com/"><img src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/thegeekstuff.gif" alt="The Geek Stuff"></a></p><div id="header_ad"><div id="header_ad1">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8090601437064582";
/* TGS Logo Header Big Image Only */
google_ad_slot = "4708993701";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/show_ads.js">
</script>
</div></div>
	</div>
<ul class="menu">
<li class="tab tab-home"><a href="http://www.thegeekstuff.com/">Home</a></li>
<li class="tab tab-1"><a href="http://www.thegeekstuff.com/linux-101-hacks-ebook/" title="Linux 101 Hacks eBook, by Ramesh Natarajan">Free eBook</a></li>
<li class="tab tab-2"><a href="http://www.thegeekstuff.com/contact/" title="Contact">Contact</a></li>
<li><a href="http://www.thegeekstuff.com/about/">About</a></li>
<li><a href="http://www.thegeekstuff.com/best-of-the-blog">Start Here</a></li>
</ul>
	<div id="content_box">
		<div id="content" class="hfeed">

			<div class="post-12799 post type-post status-publish format-standard hentry category-c-programming tag-c-class-inline-function tag-c-define tag-c-define-macro tag-c-inline-function-definition tag-c-inline-function-header tag-c-macro-definition tag-c-macro-expansion tag-c-macro-function tag-c-macro-string tag-c-macros-arguments tag-c-preprocessor-macro tag-c-static-inline-functions tag-c-variadic-macros post_box top" id="post-12799">
				<div class="headline_area">
					<h1 class="entry-title">How to Use C Macros and C Inline Functions with C Code Examples</h1>
					<p class="headline_meta">by <span class="author vcard"><span class="fn">Himanshu Arora</span></span> on <abbr class="published" title="2013-04-17">April 17, 2013</abbr></p>
				</div>
				<div class="format_text entry-content">
<div style="margin:7px 0px 6px 0px; padding:5px;"> 

<div style="float:left; width=95px">
<div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; background: none repeat scroll 0% 0% transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 90px; height: 20px;"><iframe title="+1" data-gapiattached="true" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/fastbutton.html" name="I0_1400776277216" id="I0_1400776277216" vspace="0" tabindex="0" style="position: static; top: 0px; width: 90px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" scrolling="no" marginwidth="0" marginheight="0" hspace="0" frameborder="0" width="100%"></iframe></div>
</div>

<div style="float:left; padding:2px; width:90px"><iframe src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/like_002.html" scrolling="no" style="border:none; overflow:hidden; width:450px; height:21px;" allowtransparency="true" frameborder="0"></iframe>
</div>

<div style="width=95px">
<iframe style="width: 106px; height: 20px;" data-twttr-rendered="true" title="Twitter Tweet Button" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/tweet_button.html" allowtransparency="true" scrolling="no" id="twitter-widget-0" frameborder="0"></iframe><script type="text/javascript" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/widgets.js"></script>
</div>

</div>
<p>Many C and C++ programming beginners tend to confuse between the concept of macros and Inline functions. </p>
<p>Often the difference between the two is also asked in <a href="http://www.thegeekstuff.com/2012/08/c-interview-questions/">C interviews</a>.</p>
<p>In this tutorial we intend to cover the basics of these two concepts along with working code samples.<br>
<span id="more-12799"></span></p>
<h3>1. The Concept of C Macros</h3>
<p>Macros are generally used to define constant values that are being 
used repeatedly in program. Macros can even accept arguments and such 
macros&nbsp;are known as function-like macros. It can be useful if 
tokens are concatenated into code to simplify some complex declarations.
 Macros provide text replacement functionality at pre-processing time.</p>
<p>Here is an example of a simple macro :</p>
<pre> #define MAX_SIZE 10</pre>
<p>The above macro (MAX_SIZE) has a value of 10.</p>
<p>Now let’s see an example through which we will confirm that macros 
are replaced by their values at pre-processing time. Here is a C program
 :</p>
    <center>
      <div style="margin-left:2px; margin-top:10px; margin-bottom:10px; ">

        <!-- AD BLOCK -->
		
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8090601437064582";
/* TGS SinglePost Bottom Medium Rect */
google_ad_slot = "8643685131";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/show_ads.js">
</script>

        <!-- END AD BLOCK -->

	  </div>
    </center>


<pre>#include&lt;stdio.h&gt;

#define MAX_SIZE 10

int main(void)
{
   int size = 0;
   size = size + MAX_SIZE;

   printf("\n The value of size is [%d]\n",size);

   return 0;
}</pre>
<p>Now lets compile it with the flag <em>-save-temps</em> so that pre-processing output (a file with extension .i ) is produced along with final executable :</p>
<pre>$ gcc -Wall -save-temps macro.c -o macro</pre>
<p>The command above will produce all the intermediate files in the <a href="http://www.thegeekstuff.com/2011/10/c-program-to-an-executable/">gcc compilation process</a>.
 One of these files will be macro.i. This is the file of our interest. 
If you open this file and get to the bottom of this file :</p>
<pre>...
...
...
int main(void)
{
   int size = 0;
   size = size + <strong>10</strong>;

   printf("\n The value of size is [%d]\n",size);

   return 0;
}</pre>
<p>So you see that the macro MAX_SIZE was replaced with it’s value (10) in preprocessing stage of the compilation process.</p>
<p>Macros are handled by the pre-compiler, and are thus guaranteed to be
 inlined. Macros are used for short operations and it avoids function 
call overhead. It can be used if any short operation is being done in 
program repeatedly. Function-like&nbsp;macros are very beneficial when 
the same block of code needs to be executed multiple times.</p>
<p>Here are some examples that define macros for swapping numbers, square of numbers, logging function, etc.</p>
<pre>#define SWAP(a,b)({a ^= b; b ^= a; a ^= b;})
#define SQUARE(x) (x*x)
#define TRACE_LOG(msg) write_log(TRACE_LEVEL, msg)</pre>
<p>Now, we will understand the below program which uses macro to define 
logging function. It allows variable arguments list and displays 
arguments on standard output as per format specified.</p>
<pre>#include &lt;stdio.h&gt;
#define TRACE_LOG(fmt, args...) fprintf(stdout, fmt, ##args);

int main() {
int i=1;
TRACE_LOG("%s", "Sample macro\n");
TRACE_LOG("%d %s", i, "Sample macro\n");
return 0;
}</pre>
<p>Here is the output:</p>
<pre>$ ./macro2
Sample macro
1 Sample macro</pre>
<p>Here, TRACE_LOG is the macro defined. First, character string is 
logged by TRACE_LOG macro, then multiple arguments of different types 
are also logged as shown in second call of TRACE_LOG macro. Variable 
arguments are supported with the use of “…” in input argument of macro 
and ##args in input argument of macro value.</p>
<h3>2. C Conditional Macros</h3>
<p>Conditional macros are very useful to apply conditions. Code snippets
 are guarded with a condition checking if a certain macro is defined or 
not. They are very helpful in large project having code segregated as 
per releases of project. If some part of code needs to be executed for 
release 1 of project and some other part of code needs to be executed 
for release 2, then it can be easily achieved through conditional 
macros.</p>
<p>Here is the syntax :</p>
<pre>#ifdef PRJ_REL_01
..
.. code of REL 01 ..
..
#else
..
.. code of REL 02 ..
..
#endif</pre>
<p>To comment multiples lines of code, macro is used commonly in way given below :</p>
<pre>#if 0
..
.. code to be commented ..
..
#endif</pre>
<p>Here, we will understand above features of macro through working program that is given below.</p>
<pre>#include &lt;stdio.h&gt;

int main() {

#if 0
printf("commented code 1");
printf("commented code 2");
#endif

#define TEST1 1

#ifdef TEST1
printf("MACRO TEST1 is defined\n");
#endif

#ifdef TEST3
printf("MACRO TEST3 is defined\n");
#else
printf("MACRO TEST3 is NOT defined\n");
#endif

return 0;
}</pre>
<p>Output:</p>
<pre>$ ./macro
MACRO TEST1 is defined
MACRO TEST3 is NOT defined</pre>
<p>Here, we can see that “commented code 1”, “commented code 2” are not 
printed because these lines of code are commented under #if 0 macro. 
And, TEST1 macro is defined so, string “MACRO TEST1 is defined” is 
printed and since macro TEST3 is not defined, so “MACRO TEST3 is 
defined” is not printed.</p>
<h3>2. The Concept of C Inline Functions</h3>
<p>Inline functions are those functions whose definition is small and 
can be substituted at the place where its function call is made. 
Basically they are inlined with its function call.</p>
<p>Even there is no guarantee that the function will actually be 
inlined. Compiler interprets the&nbsp;inline&nbsp;keyword as a mere hint
 or request to substitute the code of function into its function call. 
Usually people say that having an inline function increases performance 
by saving time of function call overhead (i.e. passing arguments 
variables, return address, return value, stack mantle and its dismantle,
 etc.) but whether an inline function serves your purpose in a positive 
or in a negative way depends purely on your code design and is largely 
debatable.</p>
<p>Compiler does inlining for performing optimizations. If compiler 
optimization has been disabled, then inline functions would not serve 
their purpose and their function call would not be replaced by their 
function definition.</p>
<p>To have GCC inline your function regardless of optimization level, 
declare the function with the&nbsp;“always_inline”&nbsp;attribute:</p>
<pre>void func_test() __attribute__((always_inline));</pre>
<p>Inline functions provides following advantages over macros.</p>
<ul>
<li>Since they are functions so type of arguments is checked by the compiler whether they are correct or not.</li>
<li>There is no risk if called multiple times. But there is risk in 
macros which can be dangerous when the argument is an expression.</li>
<li>They can include&nbsp;multiple lines&nbsp;of code without trailing backlashes.</li>
<li>Inline functions have their&nbsp;own scope for variables&nbsp;and they can&nbsp;return a value.</li>
<li>Debugging code is easy in case of Inline functions as compared to macros.</li>
</ul>
<p>It is a common misconception that inlining always equals faster code.
 If there are many lines in inline function or there are more function 
calls, then inlining can cause wastage of space.</p>
<p>Now, we will understand how inline functions are defined. It is very 
simple. Only, we need to specify “inline” keyword in its definition. 
Once you specify “inline” keyword in its definition, it request compiler
 to do optimizations for this function to save time by avoiding function
 call overhead. Whenever calling to inline function is made, function 
call would be replaced by definition of inline function.</p>
<pre>#include &lt;stdio.h&gt;

void inline test_inline_func1(int a, int b) {
    printf ("a=%d and b=%d\n", a, b);
}

int inline test_inline_func2(int x) {
    return x*x;
}

int main() {

    int tmp;

    test_inline_func1(2,4);
    tmp = test_inline_func2(5);

    printf("square val=%d\n", tmp);

    return 0;
}</pre>
<p>Output:</p>
<pre>$ ./inline
a=2 and b=4
square val=25</pre>
<div style="margin:7px 0px 3px 0px; padding:5px; background:#F2F0E8">

<div style="float:left; width=95px">
<div id="___plusone_1" style="text-indent: 0px; margin: 0px; padding: 0px; background: none repeat scroll 0% 0% transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 90px; height: 20px;"><iframe title="+1" data-gapiattached="true" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/fastbutton_002.html" name="I1_1400776277227" id="I1_1400776277227" vspace="0" tabindex="0" style="position: static; top: 0px; width: 90px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" scrolling="no" marginwidth="0" marginheight="0" hspace="0" frameborder="0" width="100%"></iframe></div>
</div>

<div style="float:left; width=95px">
<iframe style="width: 106px; height: 20px;" data-twttr-rendered="true" title="Twitter Tweet Button" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/tweet_button_002.html" allowtransparency="true" scrolling="no" id="twitter-widget-1" frameborder="0"></iframe><script type="text/javascript" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/widgets.js"></script>
</div>

<div style="float:left; padding:2px; width:90px"><iframe src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/like_002.html" scrolling="no" style="border:none; overflow:hidden; width:450px; height:21px;" allowtransparency="true" frameborder="0"></iframe>
</div>

<div style="padding:1px">
&gt;&nbsp;<a href="#respond">Add your comment</a> 
</div>

</div>
<br>
<div id="subscribebox">
<a rel="nofollow" href="http://www.thegeekstuff.com/linux-sysadmin"><img class="alignright" title="Linux Sysadmin Course" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/linux-sysadmin-200-166.png" alt="Linux Sysadmin Course"></a>
Linux provides several powerful administrative tools and utilities which
 will help you to manage your systems effectively. If you don’t know 
what these tools are and how to use them, you could be spending lot of 
time trying to perform even the basic administrative tasks. The focus of
 this course is to help you understand system administration tools, 
which will help you to become an effective Linux system administrator.<br> Get the <a href="http://www.thegeekstuff.com/linux-sysadmin" class="button">Linux Sysadmin Course</a> Now!
</div>
<h3>If you enjoyed this article, you might also like..</h3>
<table>
<tbody><tr>
<td valign="top">
<ol>
<li><a href="http://www.thegeekstuff.com/2010/12/50-unix-linux-sysadmin-tutorials/">50 Linux Sysadmin Tutorials</a></li>
<li><a href="http://www.thegeekstuff.com/2010/11/50-linux-commands/">50 Most Frequently Used Linux Commands (With Examples)</a></li>
<li><a href="http://www.thegeekstuff.com/2011/12/linux-performance-monitoring-tools/">Top 25 Best Linux Performance Monitoring and Debugging Tools</a></li>
<li><a href="http://www.thegeekstuff.com/2009/03/15-practical-linux-find-command-examples/">Mommy, I found it! – 15 Practical Linux Find Command Examples</a></li>
<li><a href="http://www.thegeekstuff.com/linux-101-hacks-ebook/">Linux 101 Hacks 2nd Edition eBook</a>&nbsp;<img title="Linux 101 Hacks Book" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/free-small.png" alt="Linux 101 Hacks Book"></li>
</ol>
</td>
<td>
<ul>
<li><a href="http://www.thegeekstuff.com/2010/01/awk-introduction-tutorial-7-awk-print-examples/">Awk Introduction – 7 Awk Print Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2009/10/unix-sed-tutorial-advanced-sed-substitution-examples/">Advanced Sed Substitution Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2009/03/8-essential-vim-editor-navigation-fundamentals/">8 Essential Vim Editor Navigation Fundamentals</a></li>
<li><a href="http://www.thegeekstuff.com/2011/06/iptables-rules-examples/">25 Most Frequently Used Linux IPTables Rules Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2008/08/turbocharge-putty-with-12-powerful-add-ons-software-for-geeks-3/">Turbocharge PuTTY with 12 Powerful Add-Ons</a></li>
</ul>
</td>
</tr>
</tbody></table>
<br>
<center> 
<table border="0" cellspacing="10"> 
<tbody><tr> 
<td> 
<a rel="nofollow" href="http://www.thegeekstuff.com/bash-101-hacks-ebook/"><img title="Bash 101 Hacks Book" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/bash-132.png" alt="Bash 101 Hacks Book"></a> 
</td> 
<td> 
<a rel="nofollow" href="http://www.thegeekstuff.com/sed-awk-101-hacks-ebook/"><img title="Sed and Awk 101 Hacks Book" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/sed-and-awk-132.png" alt="Sed and Awk 101 Hacks Book"></a> 
</td> 
<td> 
<a rel="nofollow" href="http://www.thegeekstuff.com/nagios-core-ebook/"><img title="Nagios Core 3 Book" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/nagios-core-132.png" alt="Nagios Core 3 Book"></a> 
</td> 
<td> 
<a rel="nofollow" href="http://www.thegeekstuff.com/vim-101-hacks-ebook/"><img title="Vim 101 Hacks Book" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/vim-101-hacks-132.png" alt="Vim 101 Hacks Book"></a> 
</td> 
</tr> 
</tbody></table> 
</center>
<br>
<div id="tgs-tags">
Tags: <a href="http://www.thegeekstuff.com/tag/c-class-inline-function/" rel="tag">C Class Inline Function</a>, <a href="http://www.thegeekstuff.com/tag/c-define/" rel="tag">C Define</a>, <a href="http://www.thegeekstuff.com/tag/c-define-macro/" rel="tag">C Define Macro</a>, <a href="http://www.thegeekstuff.com/tag/c-inline-function-definition/" rel="tag">C Inline Function Definition</a>, <a href="http://www.thegeekstuff.com/tag/c-inline-function-header/" rel="tag">C Inline Function Header</a>, <a href="http://www.thegeekstuff.com/tag/c-macro-definition/" rel="tag">C Macro Definition</a>, <a href="http://www.thegeekstuff.com/tag/c-macro-expansion/" rel="tag">C Macro Expansion</a>, <a href="http://www.thegeekstuff.com/tag/c-macro-function/" rel="tag">C Macro Function</a>, <a href="http://www.thegeekstuff.com/tag/c-macro-string/" rel="tag">C Macro String</a>, <a href="http://www.thegeekstuff.com/tag/c-macros-arguments/" rel="tag">C Macros Arguments</a>, <a href="http://www.thegeekstuff.com/tag/c-preprocessor-macro/" rel="tag">C Preprocessor Macro</a>, <a href="http://www.thegeekstuff.com/tag/c-static-inline-functions/" rel="tag">C Static Inline Functions</a>, <a href="http://www.thegeekstuff.com/tag/c-variadic-macros/" rel="tag">C Variadic Macros</a></div>
				</div>
			</div>

			<div id="comments">
				<div id="comments_intro" class="comments_intro">
					<p><span class="bracket">{</span> <span>6</span> comments… read them below or <a href="#respond" rel="nofollow">add one</a> <span class="bracket">}</span></p>
				</div>

				<dl id="comment_list">
					<dt class="comment even thread-even depth-1" id="comment-673309">
<span class="avatar"></span>
<span class="comment_num"><a href="#comment-673309" title="Permalink to this comment" rel="nofollow">1</a></span>
<span class="comment_author">Bob</span>
<span class="comment_time">April 17, 2013 at 9:09 am</span>

					</dt>
					<dd class="comment even thread-even depth-1">
<div class="format_text" id="comment-body-673309">
<p>Cool. Thanks for the valuable information.</p>
</div>
					</dd>
					<dt class="comment odd alt thread-odd thread-alt depth-1" id="comment-673558">
<span class="avatar"></span>
<span class="comment_num"><a href="#comment-673558" title="Permalink to this comment" rel="nofollow">2</a></span>
<span class="comment_author">SeattleC++</span>
<span class="comment_time">April 17, 2013 at 10:39 am</span>

					</dt>
					<dd class="comment odd alt thread-odd thread-alt depth-1">
<div class="format_text" id="comment-body-673558">
<p>Macro SQUARE above is typical of naive macro usage and demonstrates one of the weaknesses of C macros. What happens to the macro</p>
<p>#define SQUARE(x) (x*x)</p>
<p>when you say SQUARE(v + 1)? The macro is expanded to (v + 1*v + 1). 
The result, which you probably expected to be equal to the arithmetical 
formula v*v + 2*v + 1 comes out to 2*v + 1.</p>
<p>Fix this by defining SQUARE as follows</p>
<p>#define SQUARE(x) ((x)*(x))</p>
<p>Now SQUARE(v + 1) expands to ((v + 1)*(v + 1)). This is much better, 
but it won’t save you if you invoke SQUARE with an expression having 
side effects.</p>
<p>SQUARE(++i) evaluates to ((++i)*(++i)) when the effect you probably 
wanted was more like (++i, (i*i)). This expression uses the rather 
obscure C comma operator, about which more could be written.</p>
<p>These difficulties with macros are why C has evolved inline functions.</p>
</div>
					</dd>
					<dt class="comment even thread-even depth-1" id="comment-675792">
<span class="avatar"></span>
<span class="comment_num"><a href="#comment-675792" title="Permalink to this comment" rel="nofollow">3</a></span>
<span class="comment_author">Giovanni</span>
<span class="comment_time">April 18, 2013 at 12:45 am</span>

					</dt>
					<dd class="comment even thread-even depth-1">
<div class="format_text" id="comment-body-675792">
<p>It is a REAL PLEASURE to read your newsletter!</p>
<p>Very good job!</p>
<p>I hope you get something out of it!</p>
<p>God bless you!</p>
<p>best regards</p>
<p>Giovanni</p>
</div>
					</dd>
					<dt class="comment odd alt thread-odd thread-alt depth-1" id="comment-676692">
<span class="avatar"></span>
<span class="comment_num"><a href="#comment-676692" title="Permalink to this comment" rel="nofollow">4</a></span>
<span class="comment_author">Matias Miguez</span>
<span class="comment_time">April 18, 2013 at 5:56 am</span>

					</dt>
					<dd class="comment odd alt thread-odd thread-alt depth-1">
<div class="format_text" id="comment-body-676692">
<p>Hi, all your posts there are very useful on my work! Thanks a lot!</p>
<p>Matias (From Argentina)</p>
</div>
					</dd>
					<dt class="comment even thread-even depth-1" id="comment-845039">
<span class="avatar"></span>
<span class="comment_num"><a href="#comment-845039" title="Permalink to this comment" rel="nofollow">5</a></span>
<span class="comment_author">prakash</span>
<span class="comment_time">July 15, 2013 at 10:24 pm</span>

					</dt>
					<dd class="comment even thread-even depth-1">
<div class="format_text" id="comment-body-845039">
<p>Yes, i agree with SeattleC++ please make a change in that particular Macro definition.</p>
<p>&gt;&gt; #define SQUARE(x) ((x)*(x))</p>
</div>
					</dd>
					<dt class="comment odd alt thread-odd thread-alt depth-1" id="comment-1452793">
<span class="avatar"></span>
<span class="comment_num"><a href="#comment-1452793" title="Permalink to this comment" rel="nofollow">6</a></span>
<span class="comment_author">Dharshan B M</span>
<span class="comment_time">April 10, 2014 at 7:02 pm</span>

					</dt>
					<dd class="comment odd alt thread-odd thread-alt depth-1">
<div class="format_text" id="comment-body-1452793">
<p>Thanks a lot.</p>
<p>It is very useful and very clear to understand.</p>
</div>
					</dd>
				</dl>
				<div id="respond">
					<div id="respond_intro">
						<p>Leave a Comment</p>
					</div>
					<form action="http://www.thegeekstuff.com/wp-comments-post.php" method="post" id="commentform">
						<p><input class="text_input" name="author" id="author" tabindex="1" type="text"><label for="author">Name</label></p>
						<p><input class="text_input" name="email" id="email" tabindex="2" type="text"><label for="email">E-mail</label></p>
						<p><input class="text_input" name="url" id="url" tabindex="3" type="text"><label for="url">Website</label></p>
						<p class="comment_box">
							<textarea name="comment" id="comment" tabindex="4" cols="40" rows="8"></textarea>
						</p>


	<p style="clear: both;" class="subscribe-to-comments">
	<input name="subscribe" id="subscribe" value="subscribe" style="width: auto;" type="checkbox">
	<label for="subscribe">Notify me of followup comments via e-mail</label>
	</p>


						<p class="remove_bottom_margin">
							<input name="submit" class="form_submit" id="submit" tabindex="5" value="Submit" type="submit">
<input name="comment_post_ID" value="12799" id="comment_post_ID" type="hidden">
<input name="comment_parent" id="comment_parent" value="0" type="hidden">
						</p>
<p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="b262228857" type="hidden"></p>					</form>
				</div>
			</div>
					<div class="prev_next post_nav">
						<p class="previous">Previous post: <a href="http://www.thegeekstuff.com/2013/04/cat-command-examples/" rel="prev">10 Cat Command Examples to Manage Files in Linux / UNIX</a></p>
						<p>Next post: <a href="http://www.thegeekstuff.com/2013/04/install-rabbitmq-server/" rel="next">How to Install RabbitMQ Server and Erlang on Linux</a></p>
					</div>
		</div>

		<div id="sidebars">
			<div id="sidebar_1" class="sidebar">
				<ul class="sidebar_list">
<li class="widget widget_text" id="text-21">			<div class="textwidget"><a title="Subscribe via RSS" href="http://www.thegeekstuff.com/feed" rel="nofollow">RSS</a>&nbsp; | &nbsp;<a title="Subscribe via Email" href="http://feedburner.google.com/fb/a/mailverify?uri=TheGeekStuff&amp;loc=en_US" rel="nofollow">Email</a>&nbsp; | &nbsp;<a title="Follow us on Twitter" href="http://twitter.com/thegeekstuff" rel="nofollow">Twitter</a>&nbsp; | &nbsp;<a title="Become a fan" href="http://www.facebook.com/thegeekstuff" rel="nofollow">Facebook</a>&nbsp; | &nbsp;<a title="Follow us on Google+" href="https://plus.google.com/112493711428194838421/posts">Google+</a>
<br><br>
<form action="http://www.thegeekstuff.com/search" id="cse-search-box">
  <div>
    <input name="cx" value="005666763606120661560:zkmegbt_djm" type="hidden">
    <input name="cof" value="FORID:10" type="hidden">
    <input name="ie" value="UTF-8" type="hidden">
    <input style="background: url(&quot;http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif&quot;) no-repeat scroll left center rgb(255, 255, 255);" name="q" size="40" type="text">
    <input style="border-color:#CCCCCC #999999 #999999 #CCCCCC; border-style:double; border-width:1px; overflow:visible;" name="sa" value="Search" type="submit">
  </div>
<input value="www.thegeekstuff.com/2013/04/c-macros-inline-functions/" name="siteurl" type="hidden"><input name="ref" type="hidden"><input name="ss" type="hidden"></form>
<script type="text/javascript" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/jsapi"></script>
<script type="text/javascript">google.load("elements", "1", {packages: "transliteration"});</script><script src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/a" type="text/javascript"></script><link href="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/transliteration.css" type="text/css" rel="stylesheet"><script src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/transliteration.js" type="text/javascript"></script>
<script type="text/javascript" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/t13n"></script>
<script type="text/javascript" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/brand"></script>
<br></div>
		</li><li class="widget widget_text" id="text-3">			<div class="textwidget"><script type="text/javascript"><!--
google_ad_client = "ca-pub-8090601437064582";
/* TGS Right Bar Rectangle Text Ad */
google_ad_slot = "9054077260";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/show_ads.js">
</script>
<br></div>
		</li><li class="widget widget_text" id="text-18"><h3>COURSE</h3>			<div class="textwidget"><ul>
<li><a href="http://www.thegeekstuff.com/linux-sysadmin/">Linux Sysadmin CentOS 6 Course</a> - Master the Tools, Configure it Right, and be Lazy</li>
</ul></div>
		</li><li class="widget widget_text" id="text-4"><h3>EBOOKS</h3>			<div class="textwidget"><ul>
<li><img title="Linux 101 Hacks Book" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/free-small.png" alt="Linux 101 Hacks Book">&nbsp;<a href="http://www.thegeekstuff.com/linux-101-hacks-ebook/">Linux 101 Hacks 2nd Edition eBook</a> - Practical Examples to Build a Strong Foundation in Linux</li>
<li><a href="http://www.thegeekstuff.com/bash-101-hacks-ebook/">Bash 101 Hacks eBook</a> - Take Control of Your Bash Command Line and Shell Scripting</li>
<li><a href="http://www.thegeekstuff.com/sed-awk-101-hacks-ebook/">Sed and Awk 101 Hacks eBook</a> - Enhance Your UNIX / Linux Life with Sed and Awk</li>
<li><a href="http://www.thegeekstuff.com/vim-101-hacks-ebook/">Vim 101 Hacks eBook</a> - Practical Examples for Becoming Fast and Productive in Vim Editor</li>
<li><a href="http://www.thegeekstuff.com/nagios-core-ebook/">Nagios Core 3 eBook</a> - Monitor Everything, Be Proactive, and Sleep Well</li>
</ul></div>
		</li><li class="widget widget_text" id="text-22">			<div class="textwidget"><iframe src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/likebox.html" scrolling="no" style="border:none; overflow:hidden; height:258px;" allowtransparency="true" frameborder="0"></iframe></div>
		</li><li class="widget widget_text" id="text-17"><h3>POPULAR POSTS</h3>			<div class="textwidget"><ul>
<li><a href="http://www.thegeekstuff.com/2009/01/12-amazing-and-essential-linux-books-to-enrich-your-brain-and-library/">12 Amazing and Essential Linux Books To Enrich Your Brain and Library</a></li>
<li><a href="http://www.thegeekstuff.com/2010/12/50-unix-linux-sysadmin-tutorials/">50 UNIX / Linux Sysadmin Tutorials</a></li>
<li><a href="http://www.thegeekstuff.com/2010/11/50-linux-commands/">50 Most Frequently Used UNIX / Linux Commands (With Examples)</a></li>
<li><a href="http://www.thegeekstuff.com/2010/08/gtd-getting-things-done/">How To Be Productive and Get Things Done Using GTD</a></li>
<li><a href="http://www.thegeekstuff.com/2010/03/30-things-to-do-when-you-are-bored-and-have-a-computer/">30 Things To Do When you are Bored and have a Computer</a></li>
<li><a href="http://www.thegeekstuff.com/2010/09/linux-file-system-structure/">Linux Directory Structure (File System Structure) Explained with Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2009/06/15-practical-crontab-examples/">Linux Crontab: 15 Awesome Cron Job Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/">Get a Grip on the Grep! – 15 Practical Grep Command Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2009/07/linux-ls-command-examples/">Unix LS Command: 15 Practical Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2008/08/15-examples-to-master-linux-command-line-history/">15 Examples To Master Linux Command Line History</a></li>
<li><a href="http://www.thegeekstuff.com/2010/08/bug-tracking-system/">Top 10 Open Source Bug Tracking System</a></li>
<li><a href="http://www.thegeekstuff.com/2009/01/vi-and-vim-macro-tutorial-how-to-record-and-play/">Vi and Vim Macro Tutorial: How To Record and Play</a></li>
<li><a href="http://www.thegeekstuff.com/2009/03/15-practical-linux-find-command-examples/">Mommy, I found it! -- 15 Practical Linux Find Command Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2009/07/best-gmail-tips-and-tricks/">15 Awesome Gmail Tips and Tricks</a></li>
<li><a href="http://www.thegeekstuff.com/2009/06/expertise-in-google-search/">15 Awesome Google Search Tips and Tricks</a></li>
<li><a href="http://www.thegeekstuff.com/2010/08/raid-levels-tutorial/">RAID 0, RAID 1, RAID 5, RAID 10 Explained with Diagrams</a></li>
<li><a href="http://www.thegeekstuff.com/2010/01/15-practical-unix-linux-top-command-examples/">Can You Top This? 15 Practical Linux Top Command Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2009/09/top-5-best-network-monitoring-tools/">Top 5 Best System Monitoring Tools</a></li>
<li><a href="http://www.thegeekstuff.com/2009/06/top-5-best-linux-os-distributions/">Top 5 Best Linux OS Distributions</a></li>
<li><a href="http://www.thegeekstuff.com/2008/06/how-to-monitor-remote-linux-host-using-nagios-30/">How To Monitor Remote Linux Host using Nagios 3.0</a></li>
<li><a href="http://www.thegeekstuff.com/2010/01/awk-introduction-tutorial-7-awk-print-examples/">Awk Introduction Tutorial – 7 Awk Print Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2010/09/rsync-command-examples/">How to Backup Linux? 15 rsync Command Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2009/09/the-ultimate-wget-download-guide-with-15-awesome-examples/">The Ultimate Wget Download Guide With 15 Awesome Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2009/07/top-5-best-linux-text-editors/">Top 5 Best Linux Text Editors</a></li>
<li><a href="http://www.thegeekstuff.com/2010/08/tcpdump-command-examples/">Packet Analyzer: 15 TCPDUMP Command Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2010/06/bash-array-tutorial/">The Ultimate Bash Array Tutorial with 15 Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2008/11/3-steps-to-perform-ssh-login-without-password-using-ssh-keygen-ssh-copy-id/">3 Steps to Perform SSH Login Without Password Using ssh-keygen &amp; ssh-copy-id</a></li>
<li><a href="http://www.thegeekstuff.com/2009/10/unix-sed-tutorial-advanced-sed-substitution-examples/">Unix Sed Tutorial: Advanced Sed Substitution Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2010/03/netstat-command-examples/">UNIX / Linux: 10 Netstat Command Examples</a></li>
<li><a href="http://www.thegeekstuff.com/2008/06/the-ultimate-guide-for-creating-strong-passwords/">The Ultimate Guide for Creating Strong Passwords</a></li>
<li><a href="http://www.thegeekstuff.com/2008/08/6-steps-to-secure-your-home-wireless-network/">6 Steps to Secure Your Home Wireless Network</a></li>
<li><a href="http://www.thegeekstuff.com/2008/08/turbocharge-putty-with-12-powerful-add-ons-software-for-geeks-3/">Turbocharge PuTTY with 12 Powerful Add-Ons</a></li>
</ul></div>
		</li><li class="widget widget_text" id="text-19"><h3>CATEGORIES</h3>			<div class="textwidget"><ul>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/linux/">Linux Tutorials</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/vim-2/">Vim Editor</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/sed/">Sed Scripting</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/awk/">Awk Scripting</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/bash-2/">Bash Shell Scripting</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/nagios-2/">Nagios Monitoring</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/openssh-2/">OpenSSH</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/iptables/">IPTables Firewall</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/apache/">Apache Web Server</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/mysql/">MySQL Database</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/perl/">Perl Programming</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/google/">Google Tutorials</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/ubuntu/">Ubuntu Tutorials</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/postgresql/">PostgreSQL DB</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/hello-world/">Hello World Examples</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/c-programming/">C Programming</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/c-plus-plus/">C++ Programming</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/dell-2/">DELL Server Tutorials</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/oracle/">Oracle Database</a></li>
<li><a rel="nofollow" href="http://www.thegeekstuff.com/category/vmware/">VMware Tutorials</a></li>
</ul></div>
		</li><li class="widget widget_text" id="text-20">			<div class="textwidget"><div id="___person_0" style="text-indent: 0px; margin: 0px; padding: 0px; background: none repeat scroll 0% 0% transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 300px; height: 106px;"><iframe title="+Badge" data-gapiattached="true" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/person.html" name="I2_1400776277237" id="I2_1400776277237" vspace="0" tabindex="0" style="position: static; top: 0px; width: 300px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 106px;" scrolling="no" marginwidth="0" marginheight="0" hspace="0" frameborder="0" width="100%"></iframe></div></div>
		</li>				</ul>
			</div>
		</div>
	</div>
	<div id="footer">
<div class="col_footer1">
	<ul class="sidebar_list">
<li id="text-7" class="widget widget_text"><h3>About The Geek Stuff</h3>			<div class="textwidget"><br>
<img class="float" title="Ramesh Natarajan" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/ramesh-small.gif" alt="Linux 101 Hacks Book">
My name is <strong>Ramesh Natarajan</strong>. I will be posting 
instruction guides, how-to, troubleshooting tips and tricks on Linux, 
database, hardware, security and web. My focus is to write articles that
 will either teach you or help you resolve a problem. Read more about <a href="http://www.thegeekstuff.com/about/">Ramesh Natarajan</a> and the blog.</div>
		</li>
<li id="text-8" class="widget widget_text"><h3>Support Us</h3>			<div class="textwidget"><br>
Support this blog by purchasing one of my ebooks.
<br><br>
<a rel="nofollow" href="http://www.thegeekstuff.com/bash-101-hacks-ebook/">Bash 101 Hacks eBook</a>
<br><br>
<a rel="nofollow" href="http://www.thegeekstuff.com/sed-awk-101-hacks-ebook/">Sed and Awk 101 Hacks eBook</a>
<br><br>
<a rel="nofollow" href="http://www.thegeekstuff.com/vim-101-hacks-ebook/">Vim 101 Hacks eBook</a>
<br><br>
<a rel="nofollow" href="http://www.thegeekstuff.com/nagios-core-ebook/">Nagios Core 3 eBook</a></div>
		</li>
<li id="text-9" class="widget widget_text"><h3>Contact Us</h3>			<div class="textwidget"><br>
<strong>Email Me :</strong>
Use this <a href="http://www.thegeekstuff.com/contact" rel="nofollow">Contact Form</a>
 to get in touch me with your comments, questions or suggestions about 
this site. You can also simply drop me a line to say hello!.
<br><br>
<a title="Follow us on Google+" href="https://plus.google.com/112493711428194838421/posts">Follow us on Google+</a>
<br><br>
<a title="Follow us on Twitter" href="http://twitter.com/thegeekstuff" rel="nofollow">Follow us on Twitter</a>
<br><br>
<a href="http://www.facebook.com/thegeekstuff" rel="nofollow">Become a fan on Facebook</a>&nbsp;&nbsp;</div>
		</li>
	</ul>
</div>

<div class="cb"></div>
	<p>Copyright © 2008–2014 Ramesh Natarajan. All rights reserved  | 
<a href="http://www.thegeekstuff.com/copyright">Terms of Service</a> </p>	</div>
</div>
</div>
<!--[if lte IE 8]>
<div id="ie_clear"></div>
<![endif]-->
<script gapi_processed="true" type="text/javascript" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/plusone.js"></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-5302569-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


<iframe tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;" src="How%20to%20Use%20C%20Macros%20and%20C%20Inline%20Functions%20with%20C%20Code%20Examples_files/postmessageRelay.html" id="oauth2relay430732148" name="oauth2relay430732148"></iframe></body></html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using disk: enhanced
Content Delivery Network via Amazon Web Services: CloudFront: static.thegeekstuff.com

 Served from: www.thegeekstuff.com @ 2014-05-22 10:31:09 by W3 Total Cache -->