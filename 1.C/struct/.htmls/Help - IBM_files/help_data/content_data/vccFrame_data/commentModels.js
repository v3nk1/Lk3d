dojo.declare("vcc.comment.Comment",null,{constructor:function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){ this.subject=_1; this.text=_2; this.uid=_3; this.intranetID=_4; this.nickName=_5; this.time=_6; this.type=_7; this.disposition=_8; this.cid=_9; this.pid=_a; this.amount=1; this.lastModifyTime=_6; this.htmlID=_b; }}); dojo.declare("vcc.comment.CommentTree",null,{constructor:function(_c,_d){ this.commentList=[]; if(!_c){ this.elementID=-1; }else{ this.elementID=_c; } if(!_d){ this.elementTabIndex=-1; }else{ this.elementTabIndex=_d; } },_insertComment:function(_e){ var _f=this.commentList.length; this.commentList[_f]=_e; this.commentList=this.commentList.sort(this.sortPID); },sortPID:function(_10,_11){ return _10.pid-_11.pid; },hasComment:function(_12){ for(var c in this.commentList){ if(_12==this.commentList[c].cid){ return true; } } return false; },getCommentById:function(_14){ for(var c in this.commentList){ if(_14==this.commentList[c].cid){ return this.commentList[c]; } } return null; },reset:function(){ this.commentList=[]; },_generateTree:function(){ var _16=[]; for(var _17 in this.commentList){ var _18=this.commentList[_17]; if(_18.pid==0){ this._addChildTreeNodes(_18); _16[_16.length]=_18; }else{ break; } } return _16; },hasChildNodes:function(_19){ for(var _1a in this.commentList){ var _1b=this.commentList[_1a]; if(_1b.pid==_19){ return true; } } return false; },_addChildTreeNodes:function(_1c){ _1c.childs=[]; for(var _1d in this.commentList){ var _1e=this.commentList[_1d]; if(!_1e){ alert(this.commentList.length+":"+_1d); } if(_1e.pid==_1c.cid){ _1c.childs[_1c.childs.length]=_1e; this._addChildTreeNodes(_1e); } } }}); 